.. note::
    :class: sphx-glr-download-link-note

    Click :ref:`here <sphx_glr_download_auto_examples_datasets_plot_volume.py>` to download the full example code
.. rst-class:: sphx-glr-example-title

.. _sphx_glr_auto_examples_datasets_plot_volume.py:


================
Plot Volume Data
================

This plots example volume data onto an example subject, S1, onto a flatmap
using quickflat. In order for this to run, you have to have a flatmap for
this subject in the pycortex filestore.

The cortex.Volume object is instantiated with a numpy array of the same size
as the scan for this subject and transform. Instead of the random test data,
you can replace this with any numpy array of the correct dimensionality.

By changing the parameters vmin and vmax, you get thresholded data, as shown
in the colorbar for the figure.

If you have NaN values within your array, those voxels show up transparent
on the brain.



.. rst-class:: sphx-glr-horizontal


    *

      .. image:: /auto_examples/datasets/images/sphx_glr_plot_volume_001.png
            :class: sphx-glr-multi-img

    *

      .. image:: /auto_examples/datasets/images/sphx_glr_plot_volume_002.png
            :class: sphx-glr-multi-img

    *

      .. image:: /auto_examples/datasets/images/sphx_glr_plot_volume_003.png
            :class: sphx-glr-multi-img






.. code-block:: default


    import cortex
    import numpy as np
    np.random.seed(1234)
    import matplotlib.pyplot as plt

    subject = 'S1'
    xfm = 'fullhead'

    # Creating a random dataset that is the shape for this transform with one
    # entry for each voxel
    test_data = np.random.randn(31, 100, 100)

    # This creates a Volume object for our test dataset for the given subject
    # and transform
    vol_data = cortex.Volume(test_data, subject, xfm)
    cortex.quickshow(vol_data)
    plt.show()

    # Can also alter the minimum and maximum values shown on the colorbar
    vol_data_thresh = cortex.Volume(test_data, subject, xfm, vmin=-1, vmax=1)
    cortex.quickshow(vol_data_thresh)
    plt.show()

    # If you have NaN values, those voxels show up transparent on the brain
    test_data[10:15, :, :] = np.nan
    vol_data_nan = cortex.Volume(test_data, subject, xfm)
    cortex.quickshow(vol_data_nan)
    plt.show()


.. rst-class:: sphx-glr-timing

   **Total running time of the script:** ( 0 minutes  8.389 seconds)


.. _sphx_glr_download_auto_examples_datasets_plot_volume.py:


.. only :: html

 .. container:: sphx-glr-footer
    :class: sphx-glr-footer-example



  .. container:: sphx-glr-download

     :download:`Download Python source code: plot_volume.py <plot_volume.py>`



  .. container:: sphx-glr-download

     :download:`Download Jupyter notebook: plot_volume.ipynb <plot_volume.ipynb>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
